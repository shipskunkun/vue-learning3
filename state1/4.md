### 4-1 资源汇总

Windows 用户请先安装 Git Bash，教程见这里  https://jscode.me/t/topic/97
直播的时候写的代码：https://github.com/FrankFang/frank-test-1
设计稿：https://yuque.com/u29422/gulu/197281/measure
设置 node-sass 的淘宝源 https://github.com/lmk123/blog/issues/28

别人如何安装  google  (windows 安装 node-sass)

语雀链接 https://yuque.com/u29422/gulu/197281

parcel
官方推荐的配置  https://cn.vuejs.org/v2/guide/installation.html#Parcel





###  4-2 需求分析

按钮的需求分析

考虑一下，按钮可能有哪些需求？

首先，自己能想到的

1. 样式类型，确认的、取消的、disabled
2. 鼠标移过去的样式，变成手型，变成指针型
3. 点击事件
4. 按钮文本

视频又提到的：

1. 点击后状态，按钮变成loading 效果 ？？ how

   通过参数 loading，决定是否显示 svg 动态图标

   ```
   <g-icon class="loading icon" v-if="loading" name="loading"></g-icon>
   ```

2. 按下状态，有动画效果

3. 按钮内有，icon 的情况

4. 按钮有下拉的情况 （ant desing 中没有

5. 图标在 按钮文本左边，图标在按钮文本右边

   1. 如何解决？
      1. 写两套 template，接受参数 iconPosition，left、right
   2. 如果按钮左右都有icon 怎么做？
      1. 干脆slot 两个，一个左边一个右边，根据 iconposition 显示哪个

   


#### 思考：
	如何点击按钮，里面变成loading效果?
	
	当 loading 属性为 true 的时候，有loading 效果

 [参考别人写的 ant button](https://ant.design/components/button-cn/)



### 4-3 项目初始化

MIT许可证，可以改，而且无需放置许可证，而且还能用源码名字

license文件

在写组件中，首先开启， box-sizing: borderbox

```css
:root {} 根选择器

var() css属性函数， 必须以 --开头
:root {
  --main-bg-color: coral;
  --main-txt-color: blue;
  --main-padding: 15px;
}
 
#div1 {
  background-color: var(--main-bg-color);
  color: var(--main-txt-color);
  padding: var(--main-padding);
}

em: 所以它也是相对长度单位。


.g-button:focus{  //设置元素周围的轮廓，去掉默认的focus 时候的样式
	outline: none 
} 
```


npm i -D parcel-bundler  // -D 代表developer，面向开发者的包




步骤：

	npm init  初始化项目	
	npm i vue 安装 vue
	安装 parcel，cnpm i  parcel-bundler


知识点：
	
	如果不使用sass、less 如何定义变量，使用 var() 函数
		var() 函数用于插入自定义的属性值，如果一个属性值在多处被使用，该方法就很有用。
		var(custom-property-name, value)
		custom-property-name	必需。自定义属性的名称，必需以 -- 开头。
		value	可选。备用值，在属性不存在的时候使用。
		
	根选择器 :root{}
		:root选择器用匹配文档的根元素。
		在HTML中根元素始终是HTML元素。
		
	em 相对长度
	按钮默认按下去，focus， outline 是蓝色的线，去掉


​	
​	
改成 vue 文件		
需要全局注册组件

```
Vue.component('g-button', Button)
```



```
"alias": {
    "vue" : "./node_modules/vue/dist/vue.common.js"
  }
```

执行 parcel, 会帮你自动安装所需要的 npm 包

./node_modules/.bin/parcel index.html  --no-cache



好烦啊！！！为什么我安装 parcel 就运行不了啊？

bash: ./node_modules/.bin/parcel: No such file or directory

npx parcel index.html

npx parcel  也是，在当前文件夹下，找parcel ，然后执行

npx parcel --no-cache



https://github.com/FrankFang/gulu/commits/master?after=e6d025351061c6c9e5514117d35dc12eac6c5f4a+139&branch=master





### 4-4 给按钮添加icon

步骤：

添加到购物车

下载代码

在页面引入css 文件， 然后使用代号 

``` js
	<span class="icon iconfont">&#xe662;</span>
```

即可



	三种方式，unicode模式，但是语义性不好
	
	font-class 模式
	
	Symbol，有颜色了，未来主流，


1. 	添加图标
2. 下载到本地
3. 使用三种方式使用图标


##### 如何编写button组件

	图标，是在 button的 左侧，还是右侧



### 4-6 单元测试

使用chai 

介绍几种单词

**BDD:Behavior-Driven Development (行为驱动开发)**

**TDD： Test-driven development （测试驱动开发）**

assert ： 断言



主要思路：

主观判断 = 事实

1. 能初始化，找到组件
2. 检测组件接受的参数props，如果不传入值，默认值是什么，如果接受值，是什么
3. 点击，点击方法是否被调用 



有这功夫，直接用这个组件就行了。

视频中没有 e2e 测试，只有单元测试

国内大型公司，只有最关键的步骤做e2e测试，比如说下单，其他的登陆、注册，都是人肉测试







### 2020-09-25 review

安装 parcel，

	cnpm i  parcel-bundler

然后
	npx parcel index.html

或者 

	在你的package.json 中添加 npm scripts 启动命令
	
	{
	  "start": "parcel index.html"
	}
运行

	npm start

使用parcel的好处：

	火速打包
	
	不用使用 webpack，配置 config文件，转换、打包，等工作


