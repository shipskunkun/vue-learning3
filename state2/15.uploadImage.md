#### 15-2视频: 图片上传需求分析

1. 上传按钮
   1. 点击上传
   2. 自动上传
2. 上传前验证
   1. 图片类型
   2. 图片大小

2. loading，显示上传进度

3. 拖拽上传

4. 上传结果

   1. 图片预览
   2. 失败提示

5. 点击保存

   1. 从 input 中拿到上传结果

   



#### 15-3视频: 图片上传接口设计

上传地址

请求头

上传附带参数

是否发送cookie凭证，因为跨域默认不带cookie

是否多文件

是否支持拖拽上传

接受文件类型

钩子函数

​	成功钩子

​	失败钩子

​	进行钩子

​	上传前钩子

​	



#### 15-4视频: 图片上传后台实现

接受图片，并存储起来

生成index.js

```js
npm init  -y  //生成package.json
npm install express multer cors 安装依赖

代码的意思
引入express
生成APP
路径匹配，如果是根路径，发送 hello nodejs

const express = require('express')
const app = express()
app.get('/', (req, res, next)=> {
	res.send('hello nodejs')
})
app.lisen(3000)


执行 node index.js
访问首页，根路径，页面显示，hello nodejs


使用 post 提交文件：

<form action="http:/127.0.0.1:3000/upload" method="post" enctype="multipart/form-data">
  <input type="file" name="test">
  <input type="submit" value="提交">
</form>

app.post('/upload', (req, res)=>{
  res.send('here')
})

如何拿到文件？
使用 upload 插件，把获取的文件，放入某个文件夹 yyy 中

const upload = multer({dest:'yyy/'})
app.post('/upload', upload.single('test'), (req, res)=>{  //和input name 对应起来
  res.send(req.file.filename)// 返回上传成功的文件名
})


上传文件必须：
文件名
action、method、enctype

```







#### 15-4视频: ajax实现文件上传

#### 15-6视频: 使用heroku当做服务器

#### 15-7视频: 为heroku添加npm start

#### 15-8视频: 初步实现uploader

#### 15-9视频: 删除功能

#### 15-10视频: 显示上传中

#### 15-11视频: update拼成upload造成 bug

#### 15-12视频: 渲染任务是异步执行的！

#### 15-13视频: 完善CSS

#### 15-14视频: UI细节完善

#### 15-15创建uploader

